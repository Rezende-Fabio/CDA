<section class="modal-alert">
    <div id="card-alert">
        <h2>Aviso!</h2>
        <hr>
        <p>Está ação ira atualizar toda a base do CDA de a cordo com os dados do Protheus.</p>
        <p>Deseja continuar?</p>
        <div id="btns">
            <a class="btn-sim" id="btn-sim">SIM</a>
            <a class="btn-nao" href="javascript:history.back()">NÃO</a>
        </div>
    </div>
    <div style="display: none;" id="loader">
        <h2>Aguarde!</h2>
        <hr>
        <div class="spinner-border" role="status">
            <span class="visually-hidden">Loading...</span>
        </div>
        <p>Atulizando ...</p>
    </div>
</section>

<script type="text/javascript">
    $(document).ready(function(){

        $("#btn-sim").click(function(){
            $.ajax({
                url: "{{url_for('funcionarioAdmBlue.atualizaBaseFunc')}}",
                type: 'POST',
                dataType: 'json',
                contentType: 'application/json',
                beforeSend: function(){
                        $("#loader").show();
                        $("#card-alert").hide();
                },
                complete: function(data){
                        $("#loader").hide();
                        window.location='/admin/lista-funcionarios'
                },
                error: function(data){
                    alert("Algo deu errado, contate o setor de T.I!");
                }
            });
        });
    });
</script>